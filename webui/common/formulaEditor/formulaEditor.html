


{{define "formulaEditPaneHeader"}}

<div ui class="row" id="formulaEditHeader">
	
	<div class="col-md-6" id="leftFormulaEditHeaderColumn">	
		<span class="h5">Formula Editor</span>
	</div> <!-- column -->

	<!-- TODO - Put back a popup menu to link to formula help and reference -->
	<div class="col-md-6" id="rightFormulaEditHeaderColumn">	
		<a href="#" id='formulaHelpPopover'>Formula Help</a>
	</div> <!-- column -->
	
</div> <!-- #formulaEditHeader/row  -->


{{end}}

{{define "formulaEditButtons"}}
			<button class="btn btn-default btn-xs" id="saveFormulaButton">
			  Save Formula
			</button>
			<button class="btn btn-default btn-xs" id="checkFormulaButton" >
			  Check Formula
			</button>

{{end}}

{{define "formulaEditHeaderControls"}}
	<div class="row">
		<div class="col-md-12">
			{{template "formulaEditButtons"}}		
		</div>
	</div>
{{end}}

{{define "formulaEditPaneHeaderLayout"}}
	<div class="container">
		{{ template "formulaEditPaneHeader"}}
		{{ template "formulaEditHeaderControls"}}
	</div>
{{end}}

{{define "formulaErrorPopup"}}

<div id="formulaErrorPopup">
	   Formula Error:
	   <p id="formulaErrorMessageMsgText">parse error</p>
</div>

{{end}}

{{define "formulaFieldRefSelector"}}

<select class="form-control input-sm" data-live-search="true" data-width="fit" id="formulaFieldRefSelector">
</select>

{{end}}

{{define "formulaEditorCodeEditor"}}
		<div id="formulaEditorErrorPopup" data-toggle="popover" title="Formula Error" data-content="Formula error ...">
   			<div id="formulaEditor">
   			</div>
		</div>
{{end}}

{{define "fieldPropsFormulaEditor"}}
	<div class="maxWidth300">
		{{template "formulaFieldRefSelector"}}
		{{template "formulaEditorCodeEditor"}}
		{{template "formulaEditButtons"}}
	</div>
{{end}}

{{define "formulaEditor"}}

<div id="formDesignerFormulaEditor" class="container-fluid initiallyHidden">
	 <div class="row">
	   <div class="col-md-3" id="leftFormulaEditColumn"> 
		   {{template "formulaEditPaneHeaderLayout"}}
	   </div>
	 	<div class="col-md-6" id="centerFormulaEditColumn" style="min-width:250px;">
			{{template "formulaEditorCodeEditor"}}
	 	</div>
	 	<div class="col-md-3">
			{{template "formulaFieldRefSelector"}}
	 	</div>
	 </div> <!-- row -->
</div>

{{end}}