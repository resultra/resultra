
{{define "adminAlertNameProperty"}}
<tr>
	<td class="width200"><label>Alert name</label></td>
	<td>
		<form id="alertPropsNameForm">
				<div class="form-group">
					<input type="text" id="alertPropsNameInput" name="alertPropsNameInput" 
							class="form-control maxWidth300" placeholder="Alert name" required="" autofocus="" tabindex="-1">
				</div>
		</form>
	</td>

{{end}}


{{define "adminAlertFormProperty"}}
	<tr>
		<td class="width200"><label>Form for notification</label>
			<div><small>Configure which form is shown with the alert's notification.</small></div>
		</td>

		<td id="adminAlertFormTableCell">
			<div class="maxWidth300">

				<form id="alertFormPropFormForm">
						<div class="form-group">
							<select class="form-control maxWidth300" id="alertPropFormSelection"></select>
						</div>
				</form>
	
			</div>
		</td>
	</tr>
{{end}}


{{define "alertConditionProps"}}
	<tr>
		<td class="width200"><label>Conditions for triggering the alert</label>
			<div><small>Set conditions to limit when the alert is triggered.</small></div>
		</td>

		<td>
			{{template "recordFilterPropertyPanel" .}}
		</td>
	</tr>
{{end}}

{{define "adminAlertCaptionTemplate"}}

	<tr id="adminAlertCaptionTemplate">
		<td class="width200"><label>Alert caption messsage</label>
			<div><small>Enter a short message to accompany this alert's notifications. This message can include references to fields. When the alert is triggered, the actual values from fields will be substituted (merged) into the message.</small></div>
		</td>

		<td>
			<div class="maxWidth400">
				<div id="alertCaptionMessageEditor"></div>
				<select class="form-control input-sm" data-live-search="true" 
					data-width="fit" id="alertFieldRefSelection"></select>
			</div>
		</td>
	</tr>

{{end}}



{{define "alertPropsBody"}}

<h4>Alert</h4>
<table class="table">
	{{template "adminAlertNameProperty"}}
	{{template "adminAlertFormProperty"}}
	{{template "adminAlertCaptionTemplate"}}
	{{template "alertEventProps" .}}
	{{template "alertConditionProps" .TriggerConditionPropPanelParams}}
	{{template "alertRecipientProps"}}
</table>


{{end}}

{{define "alertPropsPage"}}
<!DOCTYPE html>
<html>
  <head>
    <title>{{.Title}}</title>
	
	{{template "electronImportPrefix"}}
	
	
	{{template "thirdPartyCSS"}}
	
	
	<!-- alertPropsAssets:css -->
	<!-- endinject -->
	
	<script>var alertPropsContext = { 
		databaseID:"{{.DatabaseID}}",
		alertID:"{{.AlertID}}",
		alertName:"{{.AlertName}}",
		isSingleUserWorkspace: {{.IsSingleUserWorkspace}} }
	</script>
	
	{{template "thirdPartyJS"}}
	{{template "aceThirdPartyJS"}}
	
	<!-- alertPropsAssets:js -->
	<!-- endinject -->
				
  </head>
	
 	
  <body>

	<div id="alertPropsPage" class="layoutPageDiv">
		
		<div class="pane ui-layout-north adminPageHeader">
			{{template "adminPageHeader" .}}
		</div> <!-- ui layout north -->
		
		<div class="pane ui-layout-west" id="rolePageTocLayout">
			{{template "adminSettingsTOC" .}}
		</div> <!-- ui layout north -->

		<div class="pane ui-layout-center" id="rolePageLayout">
			{{template "alertPropsBody" .}}
		</div> <!-- center pane for entire page -->	
		
	</div> <!-- layout page -->	

				
  </body>
  	
</html>

{{end}}